"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[356],{356:function(t,e,r){r.r(e),r.d(e,{default:function(){return g}});var n=r(861),a=r(885),s=r(757),u=r.n(s),c=r(562),i=r.n(c),o=r(791),p=r(731),f=r(228),l="SearchBar_searchBar__rjQkX",m="SearchBar_searchForm__V6XO6",h="SearchBar_searchForm_button__74xgm",v="SearchBar_searchForm_button_label__vQ9KH",_="SearchBar_input__bIy50",d=r(719),x=r(184),b=function(t){var e=t.onSubmit,r=(0,o.useState)(""),n=(0,a.Z)(r,2),s=n[0],u=n[1];return(0,x.jsx)("div",{className:l,children:(0,x.jsxs)("form",{onSubmit:function(t){t.preventDefault(),""!==s.trim()?(e(s),u("")):i().Notify.warning("Please enter your quest word")},className:m,children:[(0,x.jsxs)("button",{type:"submit",className:h,children:[(0,x.jsx)(d.Goc,{size:22}),(0,x.jsx)("span",{className:v})]}),(0,x.jsx)("input",{className:_,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search movies",value:s,onChange:function(t){u(t.target.value.toLowerCase())}})]})})},w=r(689),y={list:"MoviesList_list__0Owr9",item_text:"MoviesList_item_text__9rPGs"},k=function(t){var e=t.movies,r=(0,w.TH)();return(0,x.jsx)("ul",{className:y.list,children:e.map((function(t){var e=t.id,n=t.title,a=t.poster_path;return(0,x.jsx)("li",{className:y.list_item,children:(0,x.jsxs)(p.OL,{to:"/movies/".concat(e),state:{from:r},children:[(0,x.jsx)("img",{src:"https://image.tmdb.org/t/p/w500".concat(a),alt:n}),(0,x.jsx)("p",{className:y.item_text,children:n})]})},e)}))})},g=function(){var t,e=(0,o.useState)([]),r=(0,a.Z)(e,2),s=r[0],c=r[1],l=(0,o.useState)(""),m=(0,a.Z)(l,2),h=m[0],v=m[1],_=(0,p.lr)(),d=(0,a.Z)(_,2),w=d[0],y=d[1],g=null!==(t=w.get("data"))&&void 0!==t?t:"";return(0,o.useEffect)((function(){function t(){return(t=(0,n.Z)(u().mark((function t(){var e;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,f.XT)(g||h);case 3:0===(e=t.sent).length&&i().Notify.failure("Sorry, your quest has no result!"),c(e),t.next=10;break;case 8:t.prev=8,t.t0=t.catch(0);case 10:case"end":return t.stop()}}),t,null,[[0,8]])})))).apply(this,arguments)}(h||g)&&function(){t.apply(this,arguments)}()}),[h,g]),(0,x.jsxs)("main",{children:[(0,x.jsx)(b,{onSubmit:function(t){v(t),c([]),y(""!==t?{data:t}:{})}}),s&&(0,x.jsx)(k,{movies:s})]})}},228:function(t,e,r){r.d(e,{Df:function(){return i},M1:function(){return f},TP:function(){return p},XT:function(){return o},tx:function(){return l}});var n=r(861),a=r(757),s=r.n(a),u=r(44);u.ZP.defaults.baseURL="https://api.themoviedb.org/3";var c="64afbe7e98104731aad90684412bb048",i=function(){var t=(0,n.Z)(s().mark((function t(){var e,r;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e={params:{api_key:c}},t.next=3,u.ZP.get("/trending/movie/day",e);case 3:return r=t.sent,t.abrupt("return",r.data.results);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),o=function(){var t=(0,n.Z)(s().mark((function t(e){var r,n;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r={params:{api_key:c,query:e}},t.next=3,u.ZP.get("/search/movie",r);case 3:return n=t.sent,t.abrupt("return",n.data.results);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),p=function(){var t=(0,n.Z)(s().mark((function t(e){var r,n;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r={params:{api_key:c}},t.next=3,u.ZP.get("/movie/".concat(e),r);case 3:return n=t.sent,t.abrupt("return",n.data);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),f=function(){var t=(0,n.Z)(s().mark((function t(e){var r,n;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r={params:{api_key:c}},t.next=3,u.ZP.get("/movie/".concat(e,"/credits"),r);case 3:return n=t.sent,t.abrupt("return",n.data.cast);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),l=function(){var t=(0,n.Z)(s().mark((function t(e){var r,n;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r={params:{api_key:c}},t.next=3,u.ZP.get("/movie/".concat(e,"/reviews"),r);case 3:return n=t.sent,t.abrupt("return",n.data.results);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}]);
//# sourceMappingURL=356.97831e67.chunk.js.map